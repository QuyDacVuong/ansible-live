# demo.aws_ec2.yml
plugin: amazon.aws.aws_ec2

strict: false

regions:
  - "us-east-1"

keyed_groups:
  - key: tags.Role
    prefix: role
  - key: tags.Platform
    prefix: platform

hostnames:
  - dns-name

allow_duplicated_hosts: true

filters:
  instance-state-name: running

compose:
  ansible_host: public_ip_address
  ansible_user: "ec2-user"
  ansible_ssh_private_key_file: /Users/quy/.ssh/ncs-key.pem